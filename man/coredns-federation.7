.\" Generated by Mmark Markdown Processer - mmark.nl
.TH "COREDNS-FEDERATION" "7" "April 2019" "CoreDNS" "CoreDNS Plugins"

.SH NAME
.PP
\fIfederation\fP - enables federated queries to be resolved via the kubernetes plugin.

.SH DESCRIPTION
.PP
Enabling this plugin allows
Federated
\[la]https://kubernetes.io/docs/tasks/federation/federation-service-discovery/\[ra] queries to be
resolved via the kubernetes plugin.

.PP
Enabling \fIfederation\fP without also having \fIkubernetes\fP is a noop.

.SH SYNTAX
.PP
.RS

.nf
federation [ZONES...] {
    NAME DOMAIN
    upstream
}

.fi
.RE

.IP \(bu 4
Each \fBNAME\fP and \fBDOMAIN\fP defines federation membership. One entry for each. A duplicate
\fBNAME\fP will silently overwrite any previous value.
.IP \(bu 4
\fB\fCupstream\fR [\fBADDRESS\fP...] resolve the \fB\fCCNAME\fR target produced by this plugin.  CoreDNS
will resolve External Services against itself.


.SH EXAMPLES
.PP
Here we handle all service requests in the \fB\fCprod\fR and \fB\fCstage\fR federations.

.PP
.RS

.nf
\&. {
    kubernetes cluster.local
    federation cluster.local {
        prod prod.feddomain.com
        staging staging.feddomain.com
        upstream
    }
}

.fi
.RE

.PP
Or slightly shorter:

.PP
.RS

.nf
cluster.local {
    kubernetes
    federation {
        prod prod.feddomain.com
        staging staging.feddomain.com
        upstream
    }
}

.fi
.RE

